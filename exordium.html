<!DOCTYPE html>
<html>

<head>
    <title>CITADEL EXORDIUM</title>
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
    <link href="static/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
    <link href="static/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
    <link href="static/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
    <link href="static/site.webmanifest" rel="manifest"/>
    <link href="static/favicon.ico" rel="shortcut icon"/>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
</head>

<body>
    <style>
        body {
            background-color: black;
            color: #00E6F6;
            font-family: 'Source Code Pro';
        }
        td {
            text-align: center;
        }
        .subHeader {
            text-align: left;
            text-indent: 10px;
            color: white;
        }
        .sideHeader {
            text-align: left;
            font-weight: bold;
        }
    </style>

    <script type="module">
        import {getAllTechTree} from "./js/stake20221116.js"

        const divisor = 1000000000000000000;
        const researchPerLevel = 7000000000000000000000000;


        window.onload = async function() {
            let techTree = await getAllTechTree();
            writeData(techTree);
            // console.log("hasRelik")
            // for(i=1; i<32; i++) {
            //     tree = await getTechTree(i)
            //     console.log(i + ":" + tree[1])
            // }
        }

        function writeData(techTree) {
            var nf = Intl.NumberFormat();

            for (let faction=0; faction<4; faction++) {
                for (let tech=0; tech<8; tech++) {
                    let cell = faction * 8 + tech;
                    let totalResearch = techTree[cell];
                    let cellDiv = document.getElementById(cell);
                    cellDiv.innerHTML = nf.format(Math.round(totalResearch / divisor));
                    
                    let levels = getLevels(tech);
                    for(let level=1; level <= levels; level++) {
                        let subDiv = document.getElementById(cell + "-" + level);
                        let researchToComplete = level * researchPerLevel;
                        let totalResearchDiv = Math.round(totalResearch / divisor);
                        let researchToCompleteDiv = Math.round(researchToComplete / divisor);
                        if(totalResearchDiv >= researchToCompleteDiv) {
                            let subDiv = document.getElementById(cell + "-" + level);
                            subDiv.innerHTML = "COMPLETE";
                        }
                    }
                }
            }
        }

        // 0 => 7, 1 => 9, 2 => 9, 3 => 7, 4 => 7, 5 => 3, 6 => 6, 7 => 5
        function getLevels(tech) {
            switch(tech) {
                case 0:
                    return 7;
                case 1:
                    return 9;
                case 2:
                    return 9;
                case 3:
                    return 7;
                case 4:
                    return 7;
                case 5: 
                    return 3;
                case 6:
                    return 6;
                case 7:
                    return 5;
            }
        }

    </script>

    <table width="100%" cellspacing="5" cellpadding="5">
        <tr>
            <th class="sideHeader">Tech</th>
            <th>The Annexation</th>
            <th>The Autonomous Zone</th>
            <th>The Sanction</th>
            <th>The Network State</th>
        </tr>
        <tr>
            <td class="sideHeader">Preservative Algorithms</td>
            <td id="0"></td>
            <td id="8"></td>
            <td id="16"></td>
            <td id="24"></td>
        </tr>
        <tr>
            <td class="subHeader">Teslaphoresis</td>
            <td id="0-1"></td>
            <td id="8-1"></td>
            <td id="16-1"></td>
            <td id="24-1"></td>
        </tr>
        <tr>
            <td class="subHeader">Deflector shields</td>
            <td id="0-2"></td>
            <td id="8-2"></td>
            <td id="16-2"></td>
            <td id="24-2"></td>
        </tr>
        <tr>
            <td class="subHeader">Preservational field algorithms</td>
            <td id="0-3"></td>
            <td id="8-3"></td>
            <td id="16-3"></td>
            <td id="24-3"></td>
        </tr>
        <tr>
            <td class="subHeader">Gravitational field</td>
            <td id="0-4"></td>
            <td id="8-4"></td>
            <td id="16-4"></td>
            <td id="24-4"></td>
        </tr>
        <tr>
            <td class="subHeader">Grid disturbance engineering</td>
            <td id="0-5"></td>
            <td id="8-5"></td>
            <td id="16-5"></td>
            <td id="24-5"></td>
        </tr>
        <tr>
            <td class="subHeader">Obscurance calculus</td>
            <td id="0-6"></td>
            <td id="8-6"></td>
            <td id="16-6"></td>
            <td id="24-6"></td>
        </tr>
        <tr>
            <td class="subHeader">Bioadaptive resonance</td>
            <td id="0-7"></td>
            <td id="8-7"></td>
            <td id="16-7"></td>
            <td id="24-7"></td>
        </tr>
        <tr>
            <td class="sideHeader">Militant Algorithms</td>
            <td id="1"></td>
            <td id="9"></td>
            <td id="17"></td>
            <td id="25"></td>
        </tr>
        <tr>
            <td class="subHeader">Applied gravitonics</td>
            <td id="1-1"></td>
            <td id="9-1"></td>
            <td id="17-1"></td>
            <td id="25-1"></td>
        </tr>
        <tr>
            <td class="subHeader">Graviton cannon</td>
            <td id="1-2"></td>
            <td id="9-2"></td>
            <td id="17-2"></td>
            <td id="25-2"></td>
        </tr>
        <tr>
            <td class="subHeader">Gravimetric torpedoes</td>
            <td id="1-3"></td>
            <td id="9-3"></td>
            <td id="17-3"></td>
            <td id="25-3"></td>
        </tr>
        <tr>
            <td class="subHeader">Plasma acceleration</td>
            <td id="1-4"></td>
            <td id="9-4"></td>
            <td id="17-4"></td>
            <td id="25-4"></td>
        </tr>
        <tr>
            <td  class="subHeader">Plasma cannon</td>
            <td id="1-5"></td>
            <td id="9-5"></td>
            <td id="17-5"></td>
            <td id="25-5"></td>
        </tr>
        <tr>
            <td  class="subHeader">Plasma torpedo</td>
            <td id="1-6"></td>
            <td id="9-6"></td>
            <td id="17-6"></td>
            <td id="25-6"></td>
        </tr>
        <tr>
            <td class="subHeader">Plasma detonator</td>
            <td id="1-7"></td>
            <td id="9-7"></td>
            <td id="17-7"></td>
            <td id="25-7"></td>
        </tr>
        <tr>
            <td class="subHeader">Molecular disruption</td>
            <td id="1-8"></td>
            <td id="9-8"></td>
            <td id="17-8"></td>
            <td id="25-8"></td>
        </tr>
        <tr>
            <td class="subHeader">Dag disruptor</td>
            <td id="1-9"></td>
            <td id="9-9"></td>
            <td id="17-9"></td>
            <td id="25-9"></td>
        </tr>
        <tr>
            <td class="sideHeader">Antimatter Annihilation</td>
            <td id="2"></td>
            <td id="10"></td>
            <td id="18"></td>
            <td id="26"></td>
        </tr>
        <tr>
            <td class="subHeader">Plasma discharge technology</td>
            <td id="2-1"></td>
            <td id="10-1"></td>
            <td id="18-1"></td>
            <td id="26-1"></td>
        </tr>
        <tr>
            <td class="subHeader">Plasma shard engine</td>
            <td id="2-2"></td>
            <td id="10-2"></td>
            <td id="18-2"></td>
            <td id="26-2"></td>
        </tr>
        <tr>
            <td class="subHeader">Plasma barrier discharge</td>
            <td id="2-3"></td>
            <td id="10-3"></td>
            <td id="18-3"></td>
            <td id="26-3"></td>
        </tr>
        <tr>
            <td class="subHeader">Quantum mechanics</td>
            <td id="2-4"></td>
            <td id="10-4"></td>
            <td id="18-4"></td>
            <td id="26-4"></td>
        </tr>
        <tr>
            <td class="subHeader">Zero-point energy</td>
            <td id="2-5"></td>
            <td id="10-5"></td>
            <td id="18-5"></td>
            <td id="26-5"></td>
        </tr>
        <tr>
            <td class="subHeader">Fermion field energy</td>
            <td id="2-6"></td>
            <td id="10-6"></td>
            <td id="18-6"></td>
            <td id="26-6"></td>
        </tr>
        <tr>
            <td class="subHeader">Bosonic field energy</td>
            <td id="2-7"></td>
            <td id="10-7"></td>
            <td id="18-7"></td>
            <td id="26-7"></td>
        </tr>
        <tr>
            <td class="subHeader">Grid outgress</td>
            <td id="2-8"></td>
            <td id="10-8"></td>
            <td id="18-8"></td>
            <td id="26-8"></td>
        </tr>
        <tr>
            <td class="subHeader">Dark matter distribution</td>
            <td id="2-9"></td>
            <td id="10-9"></td>
            <td id="18-9"></td>
            <td id="26-9"></td>
        </tr>
        <tr>
            <td class="sideHeader">Propulsion</td>
            <td id="3"></td>
            <td id="11"></td>
            <td id="19"></td>
            <td id="27"></td>
        </tr>
        <tr>
            <td class="subHeader">Sublight propulsion</td>
            <td id="3-1"></td>
            <td id="11-1"></td>
            <td id="19-1"></td>
            <td id="27-1"></td>
        </tr>
        <tr>
            <td class="subHeader">Atomic engine</td>
            <td id="3-2"></td>
            <td id="11-2"></td>
            <td id="19-2"></td>
            <td id="27-2"></td>
        </tr>
        <tr>
            <td class="subHeader">Ionic engine</td>
            <td id="3-3"></td>
            <td id="11-3"></td>
            <td id="19-3"></td>
            <td id="27-3"></td>
        </tr>
        <tr>
            <td class="subHeader">Artificial gravity</td>
            <td id="3-4"></td>
            <td id="11-4"></td>
            <td id="19-4"></td>
            <td id="27-4"></td>
        </tr>
        <tr>
            <td class="subHeader">Cryogenic transport</td>
            <td id="3-5"></td>
            <td id="11-5"></td>
            <td id="19-5"></td>
            <td id="27-5"></td>
        </tr>
        <tr>
            <td class="subHeader">Quantum field theory</td>
            <td id="3-6"></td>
            <td id="11-6"></td>
            <td id="19-6"></td>
            <td id="27-6"></td>
        </tr>
        <tr>
            <td class="subHeader">Collective excitation</td>
            <td id="3-7"></td>
            <td id="11-7"></td>
            <td id="19-7"></td>
            <td id="27-7"></td>
        </tr>
        <tr>
            <td class="sideHeader">Posthumanism</td>
            <td id="4"></td>
            <td id="12"></td>
            <td id="20"></td>
            <td id="28"></td>
        </tr>
        <tr>
            <td class="subHeader">Biogenetic algorithms</td>
            <td id="4-1"></td>
            <td id="12-1"></td>
            <td id="20-1"></td>
            <td id="28-1"></td>
        </tr>
        <tr>
            <td class="subHeader">Neural grafting</td>
            <td id="4-2"></td>
            <td id="12-2"></td>
            <td id="20-2"></td>
            <td id="28-2"></td>
        </tr>
        <tr>
            <td class="subHeader">Grid-sentient algorithms</td>
            <td id="4-3"></td>
            <td id="12-3"></td>
            <td id="20-3"></td>
            <td id="28-3"></td>
        </tr>
        <tr>
            <td class="subHeader">Xeno sympathy</td>
            <td id="4-4"></td>
            <td id="12-4"></td>
            <td id="20-4"></td>
            <td id="28-4"></td>
        </tr>
        <tr>
            <td class="subHeader">Biogenetic warfare</td>
            <td id="4-5"></td>
            <td id="12-5"></td>
            <td id="20-5"></td>
            <td id="28-5"></td>
        </tr>
        <tr>
            <td class="subHeader">Retroviral plague</td>
            <td id="4-6"></td>
            <td id="12-6"></td>
            <td id="20-6"></td>
            <td id="28-6"></td>
        </tr>
        <tr>
            <td class="subHeader">Hermetic systems</td>
            <td id="4-7"></td>
            <td id="12-7"></td>
            <td id="20-7"></td>
            <td id="28-7"></td>
        </tr>
        <tr>
            <td class="sideHeader">Ecological Extraction</td>
            <td id="5"></td>
            <td id="13"></td>
            <td id="21"></td>
            <td id="29"></td>
        </tr>
        <tr>
            <td class="subHeader">Terraforming</td>
            <td id="5-1"></td>
            <td id="13-1"></td>
            <td id="21-1"></td>
            <td id="29-1"></td>
        </tr>
        <tr>
            <td class="subHeader">Synthetic chemistry</td>
            <td id="5-2"></td>
            <td id="13-2"></td>
            <td id="21-2"></td>
            <td id="29-2"></td>
        </tr>
        <tr>
            <td class="subHeader">Atmospheric engineering</td>
            <td id="5-3"></td>
            <td id="13-3"></td>
            <td id="21-3"></td>
            <td id="29-3"></td>
        </tr>
        <tr>
            <td class="sideHeader">Technocracy</td>
            <td id="6"></td>
            <td id="14"></td>
            <td id="22"></td>
            <td id="30"></td>
        </tr>
        <tr>
            <td class="subHeader">Polymorphic algorithms</td>
            <td id="6-1"></td>
            <td id="14-1"></td>
            <td id="22-1"></td>
            <td id="30-1"></td>
        </tr>
        <tr>
            <td class="subHeader">Cloning vats</td>
            <td id="6-2"></td>
            <td id="14-2"></td>
            <td id="22-2"></td>
            <td id="30-2"></td>
        </tr>
        <tr>
            <td class="subHeader">Biohacking</td>
            <td id="6-3"></td>
            <td id="14-3"></td>
            <td id="22-3"></td>
            <td id="30-3"></td>
        </tr>
        <tr>
            <td class="subHeader">Seed AI</td>
            <td id="6-4"></td>
            <td id="14-4"></td>
            <td id="22-4"></td>
            <td id="30-4"></td>
        </tr>
        <tr>
            <td class="subHeader">Warlord technocracy</td>
            <td id="6-5"></td>
            <td id="14-5"></td>
            <td id="22-5"></td>
            <td id="30-5"></td>
        </tr>
        <tr>
            <td class="subHeader">Econometric probe</td>
            <td id="6-6"></td>
            <td id="14-6"></td>
            <td id="22-6"></td>
            <td id="30-6"></td>
        </tr>
        <tr>
            <td class="sideHeader">Proginator Psi</td>
            <td id="7"></td>
            <td id="15"></td>
            <td id="23"></td>
            <td id="31"></td>
        </tr>
        <tr>
            <td class="subHeader">Surveillance state</td>
            <td id="7-1"></td>
            <td id="15-1"></td>
            <td id="23-1"></td>
            <td id="31-1"></td>
        </tr>
        <tr>
            <td class="subHeader">Threatcasting</td>
            <td id="7-2"></td>
            <td id="15-2"></td>
            <td id="23-2"></td>
            <td id="31-2"></td>
        </tr>
        <tr>
            <td class="subHeader">Cybernated sentience</td>
            <td id="7-3"></td>
            <td id="15-3"></td>
            <td id="23-3"></td>
            <td id="31-3"></td>
        </tr>
        <tr>
            <td class="subHeader">Psionic resonator</td>
            <td id="7-4"></td>
            <td id="15-4"></td>
            <td id="23-4"></td>
            <td id="31-4"></td>
        </tr>
        <tr>
            <td class="subHeader">Dissociative wave algorithms</td>
            <td id="7-5"></td>
            <td id="15-5"></td>
            <td id="23-5"></td>
            <td id="31-5"></td>
        </tr>
    </table>

</body>

</html>